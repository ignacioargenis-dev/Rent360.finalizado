# =====================================================
# RENT360 PRODUCTION ENVIRONMENT CONFIGURATION
# =====================================================

# Node Environment
NODE_ENV=production

# =====================================================
# DATABASE CONFIGURATION
# =====================================================

# PostgreSQL Database
DATABASE_URL="postgresql://rent360_user:secure_password@localhost:5432/rent360_prod?sslmode=require&schema=public"

# Prisma Configuration
PRISMA_DATABASE_URL="${DATABASE_URL}"

# Database Connection Pool
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=60000

# =====================================================
# APPLICATION CONFIGURATION
# =====================================================

# Next.js Configuration
NEXT_PUBLIC_APP_URL=https://rent360.cl
NEXT_PUBLIC_API_URL=https://api.rent360.cl
NEXTAUTH_URL=https://rent360.cl
NEXTAUTH_SECRET=your-super-secret-nextauth-key-here-change-in-production

# Application Settings
PORT=3000
HOST=0.0.0.0

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-here-change-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-here-change-in-production
JWT_ACCESS_TOKEN_EXPIRE=15m
JWT_REFRESH_TOKEN_EXPIRE=7d

# =====================================================
# BANKING INTEGRATIONS
# =====================================================

# Banco Estado API
BANCO_ESTADO_API_KEY=your-banco-estado-api-key
BANCO_ESTADO_API_SECRET=your-banco-estado-api-secret
BANCO_ESTADO_BASE_URL=https://api-empresas.bancoestado.cl/v1
BANCO_ESTADO_WEBHOOK_SECRET=your-banco-estado-webhook-secret

# BCI API
BCI_CLIENT_ID=your-bci-client-id
BCI_CLIENT_SECRET=your-bci-client-secret
BCI_API_KEY=your-bci-api-key
BCI_BASE_URL=https://api-empresas.bci.cl/v1
BCI_WEBHOOK_SECRET=your-bci-webhook-secret

# Santander API (Placeholder)
SANTANDER_API_KEY=your-santander-api-key
SANTANDER_API_SECRET=your-santander-api-secret
SANTANDER_BASE_URL=https://api-empresas.santander.cl/v1

# =====================================================
# PAYMENT PROCESSING
# =====================================================

# Stripe (International Payments)
STRIPE_PUBLIC_KEY=pk_live_your-stripe-public-key
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# Khipu (Chilean Payments)
KHIPU_SECRET=your-khipu-secret
KHIPU_RECEIVER_ID=your-khipu-receiver-id
KHIPU_WEBHOOK_SECRET=your-khipu-webhook-secret

# PayPal
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_MODE=live

# =====================================================
# FIREBASE CONFIGURATION
# =====================================================

# Firebase Project Configuration
NEXT_PUBLIC_FIREBASE_API_KEY=your-firebase-api-key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=rent360-prod.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=rent360-prod
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=rent360-prod.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your-firebase-sender-id
NEXT_PUBLIC_FIREBASE_APP_ID=your-firebase-app-id

# Firebase VAPID Key for Push Notifications
NEXT_PUBLIC_FIREBASE_VAPID_KEY=your-firebase-vapid-key

# =====================================================
# EMAIL CONFIGURATION
# =====================================================

# SMTP Configuration (Recommended: SendGrid, Mailgun, or AWS SES)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=your-sendgrid-api-key
SMTP_FROM_EMAIL=noreply@rent360.cl
SMTP_FROM_NAME=Rent360

# Email Templates
EMAIL_TEMPLATES_PATH=./templates/email

# =====================================================
# SMS CONFIGURATION
# =====================================================

# Twilio Configuration (Chilean SMS)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+56912345678

# SMS Templates
SMS_TEMPLATES_PATH=./templates/sms

# =====================================================
# CDN CONFIGURATION
# =====================================================

# Cloudflare CDN
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id

# AWS CloudFront (Alternative)
AWS_CLOUDFRONT_DISTRIBUTION_ID=your-cloudfront-distribution-id
AWS_CLOUDFRONT_ACCESS_KEY_ID=your-aws-access-key-id
AWS_CLOUDFRONT_SECRET_ACCESS_KEY=your-aws-secret-access-key

# =====================================================
# REDIS CONFIGURATION
# =====================================================

# Redis for Caching and Sessions
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# Redis Cluster Configuration (for production scaling)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=redis://node1:6379,redis://node2:6379,redis://node3:6379

# Session Configuration
SESSION_SECRET=your-session-secret-key-change-in-production
SESSION_MAX_AGE=86400000  # 24 hours in milliseconds
SESSION_UPDATE_AGE=3600000  # 1 hour in milliseconds

# Cache Configuration
CACHE_TTL=3600  # 1 hour in seconds
CACHE_PREFIX=rent360:

# =====================================================
# MONITORING AND LOGGING
# =====================================================

# DataDog Configuration
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key
DATADOG_ENV=production
DATADOG_SERVICE=rent360
DATADOG_VERSION=1.0.0

# New Relic Configuration
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=Rent360 Production
NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true
NEW_RELIC_ERROR_COLLECTOR_ENABLED=true

# Sentry Configuration
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=rent360@v1.0.0
SENTRY_TRACES_SAMPLE_RATE=0.1

# =====================================================
# LOGGING CONFIGURATION
# =====================================================

# Log Level
LOG_LEVEL=info
LOG_FORMAT=json

# Log Files
LOG_FILE_PATH=/var/log/rent360
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Structured Logging
LOG_STRUCTURED=true
LOG_TIMESTAMP_FORMAT=iso

# =====================================================
# FILE STORAGE
# =====================================================

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_S3_BUCKET_NAME=rent360-production-files
AWS_S3_PUBLIC_URL=https://rent360-production-files.s3.amazonaws.com

# Alternative: DigitalOcean Spaces
DO_SPACES_ACCESS_KEY=your-do-spaces-access-key
DO_SPACES_SECRET_KEY=your-do-spaces-secret-key
DO_SPACES_REGION=sfo3
DO_SPACES_BUCKET_NAME=rent360-files
DO_SPACES_PUBLIC_URL=https://rent360-files.sfo3.digitaloceanspaces.com

# =====================================================
# SECURITY CONFIGURATION
# =====================================================

# CORS Configuration
CORS_ORIGIN=https://rent360.cl,https://www.rent360.cl
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=https://rent360.report-uri.com/r/d/csp/enforce

# Helmet Security Headers
HELMET_ENABLED=true
HELMET_HSTS_MAX_AGE=31536000
HELMET_HSTS_INCLUDE_SUBDOMAINS=true

# =====================================================
# EXTERNAL API KEYS
# =====================================================

# Google Maps API
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# Google reCAPTCHA
RECAPTCHA_SITE_KEY=your-recaptcha-site-key
RECAPTCHA_SECRET_KEY=your-recaptcha-secret-key

# Google Analytics
GA_TRACKING_ID=GA-YOUR-TRACKING-ID

# =====================================================
# FEATURE FLAGS
# =====================================================

# Feature Toggles
FEATURE_CHAT_ENABLED=true
FEATURE_RATINGS_ENABLED=true
FEATURE_RECURRING_SERVICES_ENABLED=true
FEATURE_PUSH_NOTIFICATIONS_ENABLED=true
FEATURE_BANKING_INTEGRATION_ENABLED=true

# Beta Features
FEATURE_AI_MATCHING_ENABLED=false
FEATURE_ADVANCED_ANALYTICS_ENABLED=true
FEATURE_MOBILE_APP_ENABLED=false

# =====================================================
# PERFORMANCE CONFIGURATION
# =====================================================

# Compression
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6

# Gzip Configuration
GZIP_ENABLED=true
GZIP_LEVEL=6

# Brotli Configuration
BROTLI_ENABLED=true
BROTLI_QUALITY=6

# =====================================================
# BACKUP CONFIGURATION
# =====================================================

# Database Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# File Backup
FILE_BACKUP_ENABLED=true
FILE_BACKUP_SCHEDULE=0 3 * * *  # Daily at 3 AM
FILE_BACKUP_RETENTION_DAYS=90

# =====================================================
# HEALTH CHECKS
# =====================================================

# Health Check Endpoints
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true
HEALTH_CHECK_EXTERNAL_APIS=true

# Readiness and Liveness Probes
READINESS_CHECK_PATH=/api/health/ready
LIVENESS_CHECK_PATH=/api/health/live

# =====================================================
# MAINTENANCE MODE
# =====================================================

MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Estamos realizando mantenimiento programado. Volveremos pronto."
MAINTENANCE_ALLOWED_IPS=192.168.1.1,10.0.0.1

# =====================================================
# DEVELOPMENT/DEBUG CONFIGURATION
# =====================================================

# Debug Mode (Should be false in production)
DEBUG=false
VERBOSE_LOGGING=false

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
MEMORY_MONITORING_ENABLED=true
CPU_MONITORING_ENABLED=true

# =====================================================
# LEGAL AND COMPLIANCE
# =====================================================

# Data Protection
GDPR_COMPLIANT=true
DATA_RETENTION_DAYS=2555  # 7 years for Chilean compliance
DATA_ENCRYPTION_ENABLED=true

# Chilean Legal Compliance
LEY_19799_COMPLIANT=true  # Electronic signatures law
DECRETO_SUPREMO_181_COMPLIANT=true  # Digital certification

# =====================================================
# CONTAINER CONFIGURATION
# =====================================================

# Docker Configuration
DOCKER_IMAGE_TAG=latest
DOCKER_CONTAINER_NAME=rent360-prod
DOCKER_NETWORK=rent360-network

# Kubernetes Configuration
K8S_NAMESPACE=rent360-prod
K8S_REPLICAS=3
K8S_CPU_REQUEST=500m
K8S_CPU_LIMIT=1000m
K8S_MEMORY_REQUEST=1Gi
K8S_MEMORY_LIMIT=2Gi

# =====================================================
# LOAD BALANCER CONFIGURATION
# =====================================================

# AWS ALB Configuration
ALB_SSL_CERTIFICATE_ARN=arn:aws:acm:us-east-1:123456789012:certificate/your-certificate-arn
ALB_SECURITY_GROUP_ID=sg-your-security-group-id
ALB_TARGET_GROUP_ARN=arn:aws:elasticloadbalancing:us-east-1:123456789012:targetgroup/your-target-group

# NGINX Load Balancer (Alternative)
NGINX_UPSTREAM_SERVERS=app1:3000,app2:3000,app3:3000
NGINX_SSL_CERT_PATH=/etc/ssl/certs/rent360.crt
NGINX_SSL_KEY_PATH=/etc/ssl/private/rent360.key

# =====================================================
# AUTO-SCALING CONFIGURATION
# =====================================================

# AWS Auto Scaling Group
ASG_MIN_INSTANCES=2
ASG_MAX_INSTANCES=10
ASG_DESIRED_CAPACITY=3
ASG_CPU_TARGET=70
ASG_MEMORY_TARGET=80

# Kubernetes HPA
HPA_MIN_REPLICAS=2
HPA_MAX_REPLICAS=10
HPA_CPU_TARGET=70
HPA_MEMORY_TARGET=80

# =====================================================
# ALERTING CONFIGURATION
# =====================================================

# Alert Thresholds
ALERT_HIGH_CPU_USAGE=90
ALERT_HIGH_MEMORY_USAGE=85
ALERT_HIGH_DISK_USAGE=90
ALERT_HIGH_RESPONSE_TIME=5000  # 5 seconds
ALERT_LOW_SUCCESS_RATE=95  # 95%

# Alert Channels
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_RECIPIENTS=admin@rent360.cl,dev@rent360.cl
ALERT_SLACK_ENABLED=true
ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your-slack-webhook
ALERT_SMS_ENABLED=true
ALERT_SMS_RECIPIENTS=+56912345678,+56987654321

# =====================================================
# FINAL NOTES
# =====================================================
# IMPORTANT:
# 1. Replace all placeholder values with actual production credentials
# 2. Use strong, unique passwords and keys for all services
# 3. Store sensitive data in a secure vault (AWS Secrets Manager, HashiCorp Vault, etc.)
# 4. Rotate keys and credentials regularly
# 5. Test all configurations in a staging environment first
# 6. Document all configuration changes
# 7. Set up monitoring and alerting before going live
